
### Установка и настройка окружения

Установка и настройка Zig достаточно проста и включает в себя несколько шагов. В этой главе мы рассмотрим, как установить Zig на ОС Windows, настроить окружение для работы с этим языком программирования и создать проект с использованием Zig и Zigmod.

#### Шаг 1: Скачивание и установка Zig

##### Windows

1. **Скачивание Zig**:
   - Перейдите на [официальную страницу загрузок Zig](https://ziglang.org/download/).
   - Выбирайте походящий *.zip-архив, скачайте, разархивируйте в папку `C:\zig`.

2. **Настройка PATH**:
   - После добавить путь к исполняемому файлу Zig в системную переменную PATH.
   - Откройте Панель управления > Система и безопасность > Система > Дополнительные параметры системы.
   - Нажмите на кнопку "Переменные среды".
   - В разделе "Системные переменные" найдите переменную PATH и нажмите "Изменить".
   - Добавьте путь к папке, где установлен Zig (например, `C:\zig`).

4. **Проверка установки**:
   - Откройте командную строку (cmd) и выполните команду:
     ```sh
     zig version
     ```
   - Если установка прошла успешно, вы увидите номер версии Zig.


#### Шаг 2: Установка редактора кода

#### Установка [zls](https://github.com/zigtools/zls)
zls (Zig language server) - Языковой сервер для Zig, обеспечивающий поддержку IDE и редакторов. 
Необходим для работы IDE VS Code.

- Скачиваем исходный код и создаем испонимый файл `zls.exe`.
```
git clone https://github.com/zigtools/zls
cd zls
zig build -Doptimize=ReleaseSafe
```
- Перемещаем его в папку `C:\zig`, а также изменяем путь к нему в настройках IDE.

Для работы с Zig вы можете использовать любой текстовый редактор или IDE. Вот несколько рекомендаций:

- **Visual Studio Code**:
  - Установите Visual Studio Code с [официального сайта](https://code.visualstudio.com/).
  - Установите расширение Zig от автора "ziglang".

- **Vim/Neovim**:
  - Установите плагин Zig для Vim или Neovim. Например, с использованием менеджера плагинов vim-plug:
    ```vim
    Plug 'ziglang/zig.vim'
    ```

- **CLion**:
  - Установите CLion с [официального сайта](https://www.jetbrains.com/clion/).
  - Установите плагин Zig от автора "ziglang".

#### Шаг 3: Создание проекта исполлняемого (*.exe-проекта)


1. **Создание проекта**:
   - Создайте новую директорию для вашего проекта:
     ```sh
     mkdir my_zig_project
     cd my_zig_project
     ```

2. **Инициализация проекта**:
   - Инициализируйте проект с помощью команды Zig:
     ```sh
     zig init
     ```
   - Эта команда создаст структуру проекта с исходным кодом и файлом конфигурации сборки `build.zig`.

3. **Сборка и запуск проекта**:
   - Для сборки и запуска проекта выполните:
     ```sh
     zig build run
     All your codebase are belong to us.
     Run `zig build test` to run the tests.
     ```

- Для запуска тестов выполните:
     ```sh
     zig build test
     ```
   - Для сборки и создания исполняетмого файла с определенным именем:

  ```sh
     zig build-exe -femit-bin=pr02.exe src/main.zig
   ```

   - Компиляция с оптимизациями производительности:

```sh

zig build-exe -O ReleaseFast -femit-bin=pr02.exe src/main.zig 
```

- Компиляция с указанием целевой архитектуры:

```sh

zig build-exe -femit-bin=pr02-x86_64-linux -target x86_64-linux src/main.zig
```

- Компиляция библиотеки:
```sh
zig build-lib src/main.zig
```
- Компиляция статической библиотеки для Windows:

```sh
zig build-lib src/main.zig
```

- Компиляция объектного файла:

```sh

zig build-obj src/main.zig
```

- Запуск тестов. 

   - Запуск тестов в файле:
   ```sh
   zig test src/main.zig
   ```

   - Запуск тестов с фильтрацией по имени:
   ```sh
   zig test src/main.zig --test-filter "simple test"
   ```


   Команда `zig translate-c` используется для перевода C-кода в Zig-код.
   - Перевод C-файла в Zig:
   ```sh
   zig translate-c example.c
   ```

Теперь вы готовы начать разработку на Zig с использованием Zigmod! Вы установили и настроили Zig, 
выбрали редактор кода, создали первый проект и добавили зависимости с помощью Zigmod. 
В следующих главах мы рассмотрим основы языка и начнем писать код на Zig.